{% assign card_product = product.selected_or_first_available_variant %}
{% if card_product.featured_image != blank %}
  {% assign variant_featured_image = card_product.featured_image %}
{% else %}
  {% assign variant_featured_image = product.featured_image %}
{% endif %}

{{ 'custom-product-card.css' | asset_url | stylesheet_tag }}

<div class="custom-product-card-">
  <div class="custom-product-card--image-wrapper">
    {% render 'responsive-picture', desktopImage: variant_featured_image, class: 'h-full' %}
  </div>
  <div class="custom-product-card--info center">
    <div class="custom-product-card--variant-select">
      {% for option in product.options_with_values %}
        {% if option.name == 'color' or option.name == 'Color' %}
          {% for value in option.values %}
            <input name="{{ option.name }}" type="radio" value="{{ value }}">
          {% endfor %}
        {% endif %}
      {% endfor %}
    </div>
    <div class="custom-product-card--vendor">
      {{ product.vendor }}
    </div>
    <div class="custom-product-card--title">
      {{ card_product.title }}
    </div>
    <div class="custom-product-card--price-container">
      <span class="custom-product-card--price"> {{ card_product.price | money_with_currency }}</span>
      <span class="custom-product-card--price-on-sale"> {{ card_product.compare_at_price | money_with_currency }}</span>
    </div>
    <div class="custom-product-card--inventory {% if card_product.inventory_quantity < 15 %} low-stock {% else %} high-stock {% endif %}">
      {{ card_product.inventory_quantity }} in stock
    </div>
  </div>
</div>
